#:kivy 2.0.0
#:include topspotmap.kv
#:import GpsHelper gpshelper.GpsHelper

BoxLayout:
    orientation: "vertical"

    MDToolbar:
        title: "Skatespot Map"
        right_action_items: [["magnify", lambda x: app.search_menu.open()]]
        #left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        md_bg_color: app.theme_cls.primary_color

    FloatLayout:
        TopSpotMap:
            id: mapview

        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'bottom'
            padding: dp(20), dp(30)

            MDFloatingActionButton:
                icon: "crosshairs-gps"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                md_bg_color: app.theme_cls.primary_color
                on_release: GpsHelper.gps_button_callback()

        AnchorLayout:
            anchor_x: 'left'
            anchor_y: 'bottom'
            padding: dp(10), dp(10)

            MDLabel:
                id: coordinate_label
                text: "GPS Coordinates:\nlat:\nlon:"
                size_hint: 1, None
                font_style: "Caption"
                theme_text_color: "Hint"